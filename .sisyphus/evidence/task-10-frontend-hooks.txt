
> emmm2@0.1.0 test E:\Dev\EMMM2NEW
> vitest "src/features/details/hooks/" "--reporter=verbose"


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90mE:/Dev/EMMM2NEW[39m

 [32mâœ“[39m src/features/details/hooks/usePreviewData.test.ts[2m > [22musePreviewData hooks[2m > [22mfetches mod info when folder path is provided[32m 86[2mms[22m[39m
 [32mâœ“[39m src/features/details/hooks/usePreviewData.test.ts[2m > [22musePreviewData hooks[2m > [22mfetches ini files list[32m 75[2mms[22m[39m
 [32mâœ“[39m src/features/details/hooks/usePreviewData.test.ts[2m > [22musePreviewData hooks[2m > [22mfetches ini document for selected file[32m 77[2mms[22m[39m
 [32mâœ“[39m src/features/details/hooks/usePreviewData.test.ts[2m > [22musePreviewData hooks[2m > [22mfetches all ini documents for the current folder[32m 76[2mms[22m[39m
 [32mâœ“[39m src/features/details/hooks/usePreviewData.test.ts[2m > [22musePreviewData hooks[2m > [22mfetches ordered preview images[32m 78[2mms[22m[39m
 [32mâœ“[39m src/features/details/hooks/usePreviewData.test.ts[2m > [22musePreviewData hooks[2m > [22mwrites ini line updates with mutation[32m 2[2mms[22m[39m
 [32mâœ“[39m src/features/details/hooks/usePreviewData.test.ts[2m > [22musePreviewData hooks[2m > [22msaves preview image with object naming mutation[32m 1[2mms[22m[39m
 [32mâœ“[39m src/features/details/hooks/usePreviewData.test.ts[2m > [22musePreviewData hooks[2m > [22mremoves one preview image with mutation[32m 1[2mms[22m[39m
 [32mâœ“[39m src/features/details/hooks/usePreviewData.test.ts[2m > [22musePreviewData hooks[2m > [22mclears all preview images with mutation[32m 1[2mms[22m[39m
 [32mâœ“[39m src/features/details/hooks/usePreviewData.test.ts[2m > [22musePreviewData hooks[2m > [22mmutation error is exposed to caller[32m 2[2mms[22m[39m
 [32mâœ“[39m src/features/details/hooks/usePreviewData.test.ts[2m > [22musePreviewData hooks[2m > [22mupdates mod info with mutation[32m 1[2mms[22m[39m
 [32mâœ“[39m src/features/details/hooks/usePreviewData.test.ts[2m > [22musePreviewData hooks[2m > [22mtracks the latest selected folder path for preview sync[32m 1[2mms[22m[39m

<--- Last few GCs --->

[85644:00000270EA2CB000]    29806 ms: Scavenge (interleaved) 4081.0 (4092.8) -> 4076.6 (4094.8) MB, pooled: 0 MB, 21.40 / 0.00 ms  (average mu = 0.239, current mu = 0.188) allocation failure; 
[85644:00000270EA2CB000]    30992 ms: Mark-Compact (reduce) 4083.8 (4095.8) -> 4078.8 (4085.3) MB, pooled: 0 MB, 477.78 / 0.00 ms  (+ 560.5 ms in 109 steps since start of marking, biggest step 8.7 ms, walltime since start of marking 1082 ms) (average mu =
FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory
----- Native stack trace -----

 1: 00007FF68D8D7F8F node::OnFatalError+1343
 2: 00007FF68E51B1E7 v8::Function::NewInstance+423
 3: 00007FF68E31BA97 v8::base::AddressSpaceReservation::AddressSpaceReservation+322071
 4: 00007FF68E31F7A4 v8::base::AddressSpaceReservation::AddressSpaceReservation+337700
 5: 00007FF68E32E73C v8::internal::StrongRootAllocatorBase::deallocate_impl+16604
 6: 00007FF68E32DF7B v8::internal::StrongRootAllocatorBase::deallocate_impl+14619
 7: 00007FF68F795D2D v8::base::UnsignedDivisionByConstant<unsigned __int64>+2791341
 8: 00007FF68E319560 v8::base::AddressSpaceReservation::AddressSpaceReservation+312544
 9: 00007FF68E39D0E9 v8::Unlocker::~Unlocker+9273
10: 00007FF68DF12A62 v8::String::Value::~Value+141746
11: 00000270A7E7733A 
[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Unhandled Errors [49m[22m[31mâ¯â¯â¯â¯â¯â¯[39m
[31m[1m
Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.[22m[39m

[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Unhandled Error [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m
[31m[1mError[22m: [vitest-pool]: Worker forks emitted error.[39m
[90m [2mâ¯[22m EventEmitter.<anonymous> node_modules/.pnpm/vitest@4.0.18_jiti@2.6.1_jsdom@28.1.0_lightningcss@1.30.2/node_modules/vitest/dist/chunks/cli-api.B7PN_QUv.js:[2m8043:22[22m[39m
[90m [2mâ¯[22m EventEmitter.emit node:events:[2m508:28[22m[39m
[90m [2mâ¯[22m ChildProcess.emitUnexpectedExit node_modules/.pnpm/vitest@4.0.18_jiti@2.6.1_jsdom@28.1.0_lightningcss@1.30.2/node_modules/vitest/dist/chunks/cli-api.B7PN_QUv.js:[2m7610:22[22m[39m
[90m [2mâ¯[22m ChildProcess.emit node:events:[2m508:28[22m[39m
[90m [2mâ¯[22m Process.ChildProcess._handle.onexit node:internal/child_process:[2m294:12[22m[39m

[31m[1mCaused by: Error[22m: Worker exited unexpectedly[39m
[90m [2mâ¯[22m ChildProcess.emitUnexpectedExit node_modules/.pnpm/vitest@4.0.18_jiti@2.6.1_jsdom@28.1.0_lightningcss@1.30.2/node_modules/vitest/dist/chunks/cli-api.B7PN_QUv.js:[2m7609:33[22m[39m
[90m [2mâ¯[22m ChildProcess.emit node:events:[2m508:28[22m[39m
[90m [2mâ¯[22m Process.ChildProcess._handle.onexit node:internal/child_process:[2m294:12[22m[39m

[31mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39m


[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (2)[39m
[2m      Tests [22m [1m[32m12 passed[39m[22m[90m (31)[39m
[2m     Errors [22m [1m[31m1 error[39m[22m
[2m   Start at [22m 17:40:28
[2m   Duration [22m 31.30s[2m (transform 154ms, setup 205ms, import 581ms, tests 402ms, environment 1.33s)[22m

â€‰ELIFECYCLEâ€‰ Test failed. See above for more details.
