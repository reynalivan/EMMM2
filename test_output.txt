
> EMMM2@0.1.0 test E:\Dev\EMMM2NEW
> vitest "src/features/scanner/ScannerFeature.test.tsx"


[1m[44m DEV [49m[22m [34mv4.0.18 [39m[90mE:/Dev/EMMM2NEW[39m

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mrenders correctly with active game
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mrenders "No active game" when no game selected
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mstarts scan when button clicked
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mstarts scan when button clicked
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mstarts scan when button clicked
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mstarts scan when button clicked
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mstarts scan when button clicked
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mdetects conflicts after scan
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mdetects conflicts after scan
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mdetects conflicts after scan
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mdetects conflicts after scan
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mdetects conflicts after scan
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mdisplays error in ArchiveModal when extraction fails
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mdisplays error in ArchiveModal when extraction fails
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mdisplays error in ArchiveModal when extraction fails
[22m[39mArchiveModal Mock Props: { error: [32m'Error: Password required for archive'[39m }

 [31mÎ“Â¥Â»[39m src/features/scanner/ScannerFeature.test.tsx [2m([22m[2m5 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1072[2mms[22m[39m
     [32mÎ“Â£Ã´[39m renders correctly with active game[32m 20[2mms[22m[39m
     [32mÎ“Â£Ã´[39m renders "No active game" when no game selected[32m 3[2mms[22m[39m
     [32mÎ“Â£Ã´[39m starts scan when button clicked[32m 13[2mms[22m[39m
     [32mÎ“Â£Ã´[39m detects conflicts after scan[32m 21[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m displays error in ArchiveModal when extraction fails[39m[33m 1014[2mms[22m[39m

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Failed Tests 1 Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

 FAIL  src/features/scanner/ScannerFeature.test.tsx > ScannerFeature > displays error in ArchiveModal when extraction fails
Error: expect(element).toHaveTextContent()

Expected element to have text content:
  StringContaining "Password required for archive"
Received:
  Error: Password required for archive

Ignored nodes: comments, script, style
<html>
  <head />
  <body>
    <div>
      <div
        class="card bg-base-100 shadow-xl border border-base-300"
      >
        <div
          class="card-body"
        >
          <div
            class="flex items-center justify-between"
          >
            <div>
              <h2
                class="card-title flex items-center gap-2"
              >
                <svg
                  aria-hidden="true"
                  class="lucide lucide-scan-search w-5 h-5 text-primary"
                  fill="none"
                  height="24"
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  viewBox="0 0 24 24"
                  width="24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3 7V5a2 2 0 0 1 2-2h2"
                  />
                  <path
                    d="M17 3h2a2 2 0 0 1 2 2v2"
                  />
                  <path
                    d="M21 17v2a2 2 0 0 1-2 2h-2"
                  />
                  <path
                    d="M7 21H5a2 2 0 0 1-2-2v-2"
                  />
                  <circle
                    cx="12"
                    cy="12"
                    r="3"
                  />
                  <path
                    d="m16 16-1.9-1.9"
                  />
                </svg>
                Mod Scanner
              </h2>
              <p
                class="text-xs text-base-content/60"
              >
                Detects new mods, archives, and updates existing records.
              </p>
            </div>
            <button
              class="btn btn-primary btn-sm"
            >
              <svg
                aria-hidden="true"
                class="lucide lucide-play w-4 h-4 ml-1"
                fill="none"
                height="24"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                viewBox="0 0 24 24"
                width="24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z"
                />
              </svg>
              Start Scan
            </button>
          </div>
          <div
            class="alert alert-error mt-4 text-sm py-2"
            role="alert"
          >
            <svg
              aria-hidden="true"
              class="lucide lucide-circle-alert w-4 h-4"
              fill="none"
              height="24"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 24 24"
              width="24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <circle
                cx="12"
                cy="12"
                r="10"
              />
              <line
                x1="12"
                x2="12"
                y1="8"
                y2="12"
              />
              <line
                x1="12"
                x2="12.01"
                y1="16"
                y2="16"
              />
            </svg>
            <span>
              Extraction failed: Error: Password required for archive
            </span>
          </div>
          <div
            data-testid="archive-modal"
          >
            Archive Modal
            <div
              data-testid="archive-modal-error"
            >
              Error: Password required for archive
            </div>
            <button
              data-testid="mock-extract-btn"
            >
              Extract
            </button>
          </div>
          <div
            data-testid="scan-overlay"
          >
            Scan Overlay
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
 Î“Â¥Â» src/features/scanner/ScannerFeature.test.tsx:174:57
    172|     // This will FAIL initially because ScannerFeature doesn't pass thÎ“Ã‡Âª
    173|     await waitFor(() => {
    174|       expect(screen.getByTestId('archive-modal-error')).toHaveTextContÎ“Ã‡Âª
       |                                                         ^
    175|         expect.stringContaining(errorMsg),
    176|       );
 Î“Â¥Â» runWithExpensiveErrorDiagnosticsDisabled node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:47:12
 Î“Â¥Â» checkCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:124:77
 Î“Â¥Â» Timeout.checkRealTimersCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:118:16

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[1/1]Î“Ã„Â»


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m4 passed[39m[22m[90m (5)[39m
[2m   Start at [22m 23:35:03
[2m   Duration [22m 2.03s[2m (transform 106ms, setup 69ms, import 306ms, tests 1.07s, environment 459ms)[22m

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m

[1m[44m RERUN [49m[22m [34m[2msrc/features/scanner/ScannerFeature.test.tsx [22m[34mx1 [34m[39m
       [2m Filename pattern: [22m[34msrc/features/scanner/ScannerFeature.test.tsx[39m

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mrenders correctly with active game
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mrenders "No active game" when no game selected
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mstarts scan when button clicked
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mstarts scan when button clicked
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mstarts scan when button clicked
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mstarts scan when button clicked
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mstarts scan when button clicked
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mdetects conflicts after scan
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mdetects conflicts after scan
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mdetects conflicts after scan
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mdetects conflicts after scan
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mdetects conflicts after scan
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mdisplays error in ArchiveModal when extraction fails
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mdisplays error in ArchiveModal when extraction fails
[22m[39mArchiveModal Mock Props: { error: [1mnull[22m }

[90mstdout[2m | src/features/scanner/ScannerFeature.test.tsx[2m > [22m[2mScannerFeature[2m > [22m[2mdisplays error in ArchiveModal when extraction fails
[22m[39mArchiveModal Mock Props: { error: [32m'Error: Password required for archive'[39m }

 [32mÎ“Â£Ã´[39m src/features/scanner/ScannerFeature.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 127[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m5 passed[39m[22m[90m (5)[39m
[2m   Start at [22m 23:35:41
[2m   Duration [22m 560ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m

[1m[44m RERUN [49m[22m [34m[2msrc/features/scanner/ScannerFeature.test.tsx [22m[34mx2 [34m[39m
       [2m Filename pattern: [22m[34msrc/features/scanner/ScannerFeature.test.tsx[39m

 [32mÎ“Â£Ã´[39m src/features/scanner/ScannerFeature.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 100[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m5 passed[39m[22m[90m (5)[39m
[2m   Start at [22m 23:36:17
[2m   Duration [22m 463ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m

[1m[44m RERUN [49m[22m [34m[2msrc/components/scanner/ArchiveModal.tsx [22m[34mx3 [34m[39m
       [2m Filename pattern: [22m[34msrc/features/scanner/ScannerFeature.test.tsx[39m

 [32mÎ“Â£Ã´[39m src/features/scanner/ScannerFeature.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 127[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m5 passed[39m[22m[90m (5)[39m
[2m   Start at [22m 23:42:08
[2m   Duration [22m 644ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m

[1m[44m RERUN [49m[22m [34m[2msrc/features/scanner/ScannerFeature.test.tsx [22m[34mx4 [34m[39m
       [2m Filename pattern: [22m[34msrc/features/scanner/ScannerFeature.test.tsx[39m

 [32mÎ“Â£Ã´[39m src/features/scanner/ScannerFeature.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 109[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m5 passed[39m[22m[90m (5)[39m
[2m   Start at [22m 23:42:10
[2m   Duration [22m 518ms

[1m[42m PASS [49m[22m [32mWaiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
