
[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90mE:/Dev/EMMM2NEW[39m

stderr | src/features/explorer/FolderGrid.test.tsx > FolderGrid > renders empty state when no sortedFolders
Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["settings"]

stderr | src/features/explorer/FolderGrid.test.tsx > FolderGrid > renders loading state
Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["settings"]

stderr | src/features/explorer/FolderGrid.test.tsx > FolderGrid > renders items
Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["settings"]

 [32mÎ“Â£Ã´[39m src/features/explorer/FolderGrid.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[32m 48[2mms[22m[39m
 [31mÎ“Â¥Â»[39m src/features/sidebar/EditObjectModal.test.tsx [2m([22m[2m5 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1302[2mms[22m[39m
     [32mÎ“Â£Ã´[39m renders nothing when closed[32m 19[2mms[22m[39m
     [32mÎ“Â£Ã´[39m renders with object data pre-filled when open[32m 30[2mms[22m[39m
     [32mÎ“Â£Ã´[39m validates required fields[32m 156[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m calls mutation with updated data on submit[39m[33m 1058[2mms[22m[39m
     [32mÎ“Â£Ã´[39m calls onClose when cancel is clicked[32m 38[2mms[22m[39m

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Failed Tests 1 Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

 FAIL  src/features/sidebar/EditObjectModal.test.tsx > EditObjectModal > calls mutation with updated data on submit
AssertionError: expected "vi.fn()" to be called at least once

Ignored nodes: comments, script, style
<html>
  <head />
  <body>
    <div>
      <div
        class="modal modal-open"
      >
        <div
          class="modal-box relative flex h-[90vh] max-h-[90vh] w-11/12 max-w-2xl flex-col overflow-hidden"
        >
          <button
            aria-label="Close"
            class="btn btn-sm btn-circle absolute right-2 top-2 z-60"
          >
            <svg
              aria-hidden="true"
              class="lucide lucide-x"
              fill="none"
              height="16"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 24 24"
              width="16"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M18 6 6 18"
              />
              <path
                d="m6 6 12 12"
              />
            </svg>
          </button>
          <h3
            class="font-bold text-lg mb-1"
          >
            Edit Metadata
          </h3>
          <p
            class="text-sm opacity-50 mb-4 truncate"
          >
            Original: 
            <span
              class="font-mono"
            >
              Diluc
            </span>
          </p>
          <form
            class="flex h-full min-h-0 flex-col gap-4"
          >
            <div
              class="tabs tabs-bordered -mx-6 border-b border-base-200 bg-base-100 px-6"
              role="tablist"
            >
              <a
                class="tab tab-active font-bold border-b-2 border-primary"
                role="tab"
              >
                Manual
              </a>
              <a
                class="tab gap-2 "
                role="tab"
                style="opacity: 1; cursor: pointer;"
              >
                Auto Sync
              </a>
            </div>
            <div
              class="min-h-0 -mx-6 flex-1 overflow-y-scroll px-6 pt-4 [scrollbar-gutter:stable]"
            >
              <div
                class="flex flex-col gap-6 md:flex-row"
              >
                <div
                  class="flex min-w-0 flex-1 flex-col gap-3"
                >
                  <div
                    class="form-control w-full relative"
                  >
                    <label
                      class="label py-1"
                    >
                      <span
                        class="label-text font-medium"
                      >
                        Name
                      </span>
                    </label>
                    <input
                      class="input input-bordered w-full "
                      name="name"
                      type="text"
                    />
                  </div>
                  <div
                    class="form-control w-full"
                  >
                    <label
                      class="label py-1"
                    >
                      <span
                        class="label-text font-medium"
                      >
                        Category
                      </span>
                    </label>
                    <select
                      class="select select-bordered w-full "
                      name="object_type"
                    >
                      <option
                        value=""
                      >
                        Select Category
                      </option>
                      <option
                        value="Character"
                      >
                        Character
                      </option>
                      <option
                        value="Weapon"
                      >
                        Weapon
                      </option>
                    </select>
                  </div>
                  <div
                    class="form-control w-full mt-2"
                  >
                    <label
                      class="label py-1"
                    >
                      <span
                        class="label-text"
                      >
                        Tags
                      </span>
                    </label>
                    <div
                      class="flex flex-wrap items-center gap-1 p-1 border border-base-content/20 rounded-lg bg-base-100 focus-within:outline-2 focus-within:outline-primary/50 transition-all "
                    >
                      <input
                        class="flex-1 min-w-[120px] bg-transparent outline-none px-2 py-1 text-sm text-base-content"
                        placeholder="Add tags (space/comma to enter)"
                        type="text"
                        value=""
                      />
                    </div>
                  </div>
                  <div
                    class="form-control w-full mt-4"
                  >
                    <label
                      class="label py-1"
                    >
                      <span
                        class="label-text font-bold text-lg"
                      >
                        Skin Mapping
                      </span>
                    </label>
                    <div
                      class="flex gap-4 mt-1 mb-2 px-1"
                    >
                      <label
                        class="label cursor-pointer justify-start gap-2"
                      >
                        <input
                          checked=""
                          class="radio radio-primary radio-sm"
                          type="radio"
                          value="false"
                        />
                        <span
                          class="label-text"
                        >
                          Default / Base Skin
                        </span>
                      </label>
                      <label
                        class="label cursor-pointer justify-start gap-2"
                      >
                        <input
                          class="radio radio-primary radio-sm"
                          type="radio"
                          value="true"
                        />
                        <span
                          class="label-text"
                        >
                          Custom Skin
                        </span>
                      </label>
                    </div>
                  </div>
                </div>
                <div
                  class="flex w-full shrink-0 flex-col items-center gap-2 md:w-32"
                >
                  <span
                    class="label-text self-center font-medium"
                  >
                    Thumbnail
                  </span>
                  <div
                    class="w-32 h-32 rounded-xl bg-base-300 overflow-hidden flex items-center justify-center border border-base-content/10 relative shadow-inner"
                  >
                    <svg
                      aria-hidden="true"
                      class="lucide lucide-image opacity-20"
                      fill="none"
                      height="48"
                      stroke="currentColor"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      viewBox="0 0 24 24"
                      width="48"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <rect
                        height="18"
                        rx="2"
                        ry="2"
                        width="18"
                        x="3"
                        y="3"
                      />
                      <circle
                        cx="9"
                        cy="9"
                        r="2"
                      />
                      <path
                        d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"
                      />
                    </svg>
                  </div>
                  <div
                    class="flex gap-2 w-full"
                  >
                    <button
                      class="btn btn-sm btn-outline flex-1 gap-2"
                      type="button"
                    >
                      <svg
                        aria-hidden="true"
                        class="lucide lucide-upload"
                        fill="none"
                        height="14"
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        viewBox="0 0 24 24"
                        width="14"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M12 3v12"
                        />
                        <path
                          d="m17 8-5-5-5 5"
                        />
                        <path
                          d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"
                        />
                      </svg>
                      Change
                    </button>
                    <button
                      class="btn btn-sm btn-outline btn-error square px-2"
                      disabled=""
                      title="Delete Thumbnail"
                      type="button"
                    >
                      <svg
                        aria-hidden="true"
                        class="lucide lucide-trash2 lucide-trash-2"
                        fill="none"
                        height="14"
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        viewBox="0 0 24 24"
                        width="14"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M10 11v6"
                        />
                        <path
                          d="M14 11v6"
                        />
                        <path
                          d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"
                        />
                        <path
                          d="M3 6h18"
                        />
                        <path
                          d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"
                        />
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div
              class="modal-action mt-0 border-t border-base-200 bg-base-100/90 pt-4 backdrop-blur-sm"
            >
              <button
                class="btn"
                type="button"
              >
                Cancel
              </button>
              <button
                class="btn btn-primary min-w-[120px]"
                type="submit"
              >
                Save Changes
              </button>
            </div>
          </form>
        </div>
        <div
          class="modal-backdrop"
        />
      </div>
    </div>
  </body>
</html>
 Î“Â¥Â» src/features/sidebar/EditObjectModal.test.tsx:173:26
    171| 
    172|     await waitFor(() => {
    173|       expect(mockMutate).toHaveBeenCalled();
       |                          ^
    174|       // Expanded verification skipped due to JSDOM/RHF quirk
    175|     });
 Î“Â¥Â» runWithExpensiveErrorDiagnosticsDisabled node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:47:12
 Î“Â¥Â» checkCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:124:77
 Î“Â¥Â» Timeout.checkRealTimersCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:118:16

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[1/1]Î“Ã„Â»

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Unhandled Errors Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

Vitest caught 3 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Unhandled Rejection Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»
TypeError: Cannot read properties of undefined (reading 'transformCallback')
 Î“Â¥Â» transformCallback node_modules/.pnpm/@tauri-apps+api@2.10.1/node_modules/@tauri-apps/api/core.js:72:39
 Î“Â¥Â» listen node_modules/.pnpm/@tauri-apps+api@2.10.1/node_modules/@tauri-apps/api/event.js:77:18
 Î“Â¥Â» setupListener src/hooks/useBulkProgress.ts:23:24
     21| 
     22|     const setupListener = async () => {
     23|       unlisten = await listen<BulkProgressPayload>('bulk-progress', (eÎ“Ã‡Âª
       |                        ^
     24|         setProgress(event.payload);
     25| 
 Î“Â¥Â» src/hooks/useBulkProgress.ts:35:5
 Î“Â¥Â» Object.react_stack_bottom_frame node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:25989:20
 Î“Â¥Â» runWithFiberInDEV node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 Î“Â¥Â» commitHookEffectListMount node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:13249:29
 Î“Â¥Â» commitHookPassiveMountEffects node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:13336:11
 Î“Â¥Â» commitPassiveMountOnFiber node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:15484:13
 Î“Â¥Â» recursivelyTraversePassiveMountEffects node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11

This error originated in "src/features/explorer/FolderGrid.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Unhandled Rejection Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»
TypeError: Cannot read properties of undefined (reading 'transformCallback')
 Î“Â¥Â» transformCallback node_modules/.pnpm/@tauri-apps+api@2.10.1/node_modules/@tauri-apps/api/core.js:72:39
 Î“Â¥Â» listen node_modules/.pnpm/@tauri-apps+api@2.10.1/node_modules/@tauri-apps/api/event.js:77:18
 Î“Â¥Â» setupListener src/hooks/useBulkProgress.ts:23:24
     21| 
     22|     const setupListener = async () => {
     23|       unlisten = await listen<BulkProgressPayload>('bulk-progress', (eÎ“Ã‡Âª
       |                        ^
     24|         setProgress(event.payload);
     25| 
 Î“Â¥Â» src/hooks/useBulkProgress.ts:35:5
 Î“Â¥Â» Object.react_stack_bottom_frame node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:25989:20
 Î“Â¥Â» runWithFiberInDEV node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 Î“Â¥Â» commitHookEffectListMount node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:13249:29
 Î“Â¥Â» commitHookPassiveMountEffects node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:13336:11
 Î“Â¥Â» commitPassiveMountOnFiber node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:15484:13
 Î“Â¥Â» recursivelyTraversePassiveMountEffects node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11

This error originated in "src/features/explorer/FolderGrid.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Unhandled Rejection Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»
TypeError: Cannot read properties of undefined (reading 'transformCallback')
 Î“Â¥Â» transformCallback node_modules/.pnpm/@tauri-apps+api@2.10.1/node_modules/@tauri-apps/api/core.js:72:39
 Î“Â¥Â» listen node_modules/.pnpm/@tauri-apps+api@2.10.1/node_modules/@tauri-apps/api/event.js:77:18
 Î“Â¥Â» setupListener src/hooks/useBulkProgress.ts:23:24
     21| 
     22|     const setupListener = async () => {
     23|       unlisten = await listen<BulkProgressPayload>('bulk-progress', (eÎ“Ã‡Âª
       |                        ^
     24|         setProgress(event.payload);
     25| 
 Î“Â¥Â» src/hooks/useBulkProgress.ts:35:5
 Î“Â¥Â» Object.react_stack_bottom_frame node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:25989:20
 Î“Â¥Â» runWithFiberInDEV node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 Î“Â¥Â» commitHookEffectListMount node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:13249:29
 Î“Â¥Â» commitHookPassiveMountEffects node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:13336:11
 Î“Â¥Â» commitPassiveMountOnFiber node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:15484:13
 Î“Â¥Â» recursivelyTraversePassiveMountEffects node_modules/.pnpm/react-dom@19.2.4_react@19.2.4/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11

This error originated in "src/features/explorer/FolderGrid.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»


[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m7 passed[39m[22m[90m (8)[39m
[2m     Errors [22m [1m[31m3 errors[39m[22m
[2m   Start at [22m 23:21:58
[2m   Duration [22m 2.48s[2m (transform 267ms, setup 188ms, import 983ms, tests 1.35s, environment 967ms)[22m

